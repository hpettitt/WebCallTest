<!DOCTYPE html>
<html>
<head>
  <title>Vapi Test</title>
  <meta charset="utf-8">
</head>
<body>
  <h2 id="status">Loading Vapi SDK...</h2>

  <!-- Load Vapi SDK with error handling -->
  <script>
    // Detect if script fails to load
    window.vapiLoadError = false;
    window.addEventListener('error', (e) => {
      if (e.target?.src?.includes('vapi')) {
        window.vapiLoadError = true;
        document.getElementById('status').textContent = '❌ SDK failed to load (network error)';
        console.error('Vapi SDK load failed:', e.target.src);
      }
    });
  </script>

  <!-- Use a known-good version -->
<script src="https://cdn.jsdelivr.net/npm/@vapi-ai/web@1.1.0/dist/vapi-web.min.js"></script>

  <script>
    const status = document.getElementById('status');
    
    // Wait a moment for script to initialize
    setTimeout(() => {
      if (window.vapiLoadError) return;
      
      if (typeof window.Vapi !== 'undefined') {
        status.textContent = '✅ Vapi SDK loaded successfully!';
        status.style.color = 'green';
        
        // Optional: auto-start call (add your keys below)
        // const vapi = new window.Vapi("pk_...");
        // vapi.start({ assistantId: "..." });
        
      } else {
        status.textContent = '❌ window.Vapi is undefined';
        status.style.color = 'red';
        console.error('Vapi not found. Check Network tab for failed script.');
      }
    }, 500);
  </script>
</body>
</html>
